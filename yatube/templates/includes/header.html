{% load static %}

{% with request.resolver_match.view_name as view_name %}
  <header>
    <nav class="navbar navbar-light" style="background-color: lightskyblue">
      <div class="container">
        <a class="navbar-brand" href="{% url 'posts:index' %}">
          <img src="{% static 'img/logo.png' %}" width="30" height="30" 
          class="d-inline-block align-top" alt="">
          <span style="color:red">Ya</span>tube
        </a>
        {# Добавлено в спринте #}
        {% comment %}
        Меню - список пунктов со стандартными классами Bootsrap.
        Класс nav-pills нужен для выделения активных пунктов 
        {% endcomment %}
        <ul class="nav nav-pills">
          <li class="nav-item"> 
            <a class="nav-link {% if view_name  == "about:author" %}\
            active{% endif %}" href="{% url 'about:author' %}"><h5>
              Об авторе</h5></a>
          </li>
          <li class="nav-item">
            <a class="nav-link {% if view_name  == 'about:tech' %}\
            active{% endif %}" href="{% url 'about:tech' %}"><h5>
              Технологии</h5></a>
          </li>
          <li class="nav-item">
            <a class="nav-link {% if view_name  == 'about:news' %}\
            active{% endif %}" href="{% url 'about:news' %}"><h5>
              Новости</h5></a>
          </li>
          {% if request.user.is_authenticated %}
          <li class="nav-item"> 
            <a class="nav-link {% if view_name  == 'posts:create_post' %}\
            active{% endif %}" href="{% url 'posts:create_post' %}"><h5>
              Новая запись</h5></a>
          </li>
          <li class="nav-item"> 
            <a class="nav-link link-light \
            {% if view_name == 'users:password_change' %}active{% endif %}" \
            href="{% url 'users:password_change' %}"><h5>Изменить пароль
            </h5></a>
          </li>
          <li class="nav-item">
            <a class="nav-link link-light {% if view_name  == 'users:logout' %}\
            active{% endif %}" href="{% url 'users:logout' %}"><h5>Выйти
            </h5></a>
          </li>
          <li>
            <h5>Пользователь: {{ user.username }}</h5>
          </li>
          {% else %}
          <li class="nav-item">
            <a class="nav-link link-light {% if view_name  == 'users:login' %}\
            active{% endif %}" href="{% url 'users:login' %}"><h5>Войти</h5></a>
          </li>
          <li class="nav-item"><a class="nav-link link-light \
            {% if view_name  == 'users:signup' %}active {% endif %}" \
            href="{% url 'users:signup' %}"><h5>Регистрация</h5></a>
          </li>
          {% endif %}
        </ul>
        {# Конец добавленого в спринте #}
      </div>
    </nav>
  </header>
{% endwith %}